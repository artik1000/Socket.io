{"remainingRequest":"/Users/maksimov/Downloads/My-chat-app/node_modules/babel-loader/lib/index.js!/Users/maksimov/Downloads/My-chat-app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/maksimov/Downloads/My-chat-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/maksimov/Downloads/My-chat-app/src/components/Client.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/maksimov/Downloads/My-chat-app/src/components/Client.vue","mtime":1658506551920},{"path":"/Users/maksimov/Downloads/My-chat-app/node_modules/cache-loader/dist/cjs.js","mtime":1658500934845},{"path":"/Users/maksimov/Downloads/My-chat-app/node_modules/babel-loader/lib/index.js","mtime":1658500935199},{"path":"/Users/maksimov/Downloads/My-chat-app/node_modules/cache-loader/dist/cjs.js","mtime":1658500934845},{"path":"/Users/maksimov/Downloads/My-chat-app/node_modules/vue-loader/lib/index.js","mtime":1658500935849}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5wYWQtc3RhcnQiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgaW8gZnJvbSAnc29ja2V0LmlvLWNsaWVudCc7CgpmdW5jdGlvbiBnZXREYXRlKCkgewogIHZhciBvYmogPSBuZXcgRGF0ZSgpOwogIHJldHVybiAob2JqLmdldEhvdXJzKCkgKyAnJykucGFkU3RhcnQoMiwgJzAnKSArICc6JyArIChvYmouZ2V0TWludXRlcygpICsgJycpLnBhZFN0YXJ0KDIsICcwJyk7Cn0KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQ2xpZW50JywKICBwcm9wczoge30sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGN1cnJlbnROYW1lOiAn0J7QsdGJ0LjQuSDRh9Cw0YInLAogICAgICBzZWxmOiAnJywKICAgICAgbXlBdmF0YXI6ICdhdmF0YXIxJywKICAgICAgcGVyc29uOiB7CiAgICAgICAgJ9Ce0LHRidC40Lkg0YfQsNGCJzogewogICAgICAgICAgYXZhdGFyOiAncXVubGlhbycsCiAgICAgICAgICBuYW1lOiAn0J7QsdGJ0LjQuSDRh9Cw0YInCiAgICAgICAgfQogICAgICB9LAogICAgICBtc2dzOiB7fSwKICAgICAgc2VuZE1zZzogJycsCiAgICAgIHNvY2tldDogJycsCiAgICAgIHZpc2libGU6IGZhbHNlCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIG15U29ja2V0OiBmdW5jdGlvbiBteVNvY2tldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnNvY2tldDsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHNlbGVjdE5hbWU6IGZ1bmN0aW9uIHNlbGVjdE5hbWUobmFtZSkgewogICAgICB0aGlzLmN1cnJlbnROYW1lID0gbmFtZTsKICAgICAgdmFyIGRpdiA9IHRoaXMuJHJlZnMuY29udGVudC4kZWw7CiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBkaXYuc2Nyb2xsVG9wID0gZGl2LnNjcm9sbEhlaWdodDsKICAgICAgfSk7CiAgICB9LAogICAgYXZhdGFyOiBmdW5jdGlvbiBhdmF0YXIoYXZ0KSB7CiAgICAgIGlmIChhdnQgPT09ICdzZWxmJykgewogICAgICAgIHJldHVybiByZXF1aXJlKCJAL2Fzc2V0cy9pbWFnZXMvIi5jb25jYXQodGhpcy5teUF2YXRhciwgIi5qcGVnIikpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiByZXF1aXJlKCJAL2Fzc2V0cy9pbWFnZXMvIi5jb25jYXQoYXZ0LCAiLnBuZyIpKTsKICAgICAgfQogICAgfSwKICAgIHNlbmQ6IGZ1bmN0aW9uIHNlbmQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgY3VycmVudFRpbWUgPSBnZXREYXRlKCk7CiAgICAgIGNvbnNvbGUubG9nKGN1cnJlbnRUaW1lKTsKCiAgICAgIGlmICghdGhpcy5zZW5kTXNnKSB7CiAgICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzLnZpc2libGUgPSBmYWxzZTsKICAgICAgICB9LCAyMDAwKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBtc2cgPSB7CiAgICAgICAgc2VuZGVyOiB0aGlzLnNlbGYsCiAgICAgICAgcmVjZWl2ZXI6IHRoaXMuY3VycmVudE5hbWUsCiAgICAgICAgbXNnOiB0aGlzLnNlbmRNc2csCiAgICAgICAgYXZhdGFyOiB0aGlzLm15QXZhdGFyLAogICAgICAgIGdyb3VwOiBmYWxzZSwKICAgICAgICB0aW1lOiBjdXJyZW50VGltZQogICAgICB9OwoKICAgICAgaWYgKHRoaXMuY3VycmVudE5hbWUgIT09ICfQntCx0YnQuNC5INGH0LDRgicpIHsKICAgICAgICB2YXIgZGl2ID0gdGhpcy4kcmVmcy5jb250ZW50LiRlbDsKCiAgICAgICAgaWYgKCF0aGlzLm1zZ3NbdGhpcy5jdXJyZW50TmFtZV0pIHsKICAgICAgICAgIHRoaXMuJHNldCh0aGlzLm1zZ3MsIHRoaXMuY3VycmVudE5hbWUsIFtdKTsKICAgICAgICB9CgogICAgICAgIHRoaXMubXNnc1t0aGlzLmN1cnJlbnROYW1lXS5wdXNoKG1zZyk7CiAgICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgZGl2LnNjcm9sbFRvcCA9IGRpdi5zY3JvbGxIZWlnaHQ7CiAgICAgICAgfSk7CgogICAgICAgIGlmICh0aGlzLmN1cnJlbnROYW1lICE9PSB0aGlzLnNlbGYpIHsKICAgICAgICAgIHRoaXMubXlTb2NrZXQuZW1pdCgnY2hhdE1lc3NhZ2UnLCBtc2cpOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5zZW5kTXNnID0gJyc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbXNnLmdyb3VwID0gdHJ1ZTsKICAgICAgICBjb25zb2xlLmxvZygnc2hpbGlhb3RpYW5zaGknKTsKICAgICAgICB0aGlzLm15U29ja2V0LmVtaXQoJ2NoYXRNZXNzYWdlJywgbXNnKTsKICAgICAgICB0aGlzLnNlbmRNc2cgPSAnJzsKICAgICAgfQogICAgfSwKICAgIGV4aXQ6IGZ1bmN0aW9uIGV4aXQoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAnL2xvZ2luJwogICAgICB9KTsKICAgICAgdGhpcy4kcm91dGVyLmdvKDApOwogICAgfQogIH0sCiAgYmVmb3JlQ3JlYXRlOiBmdW5jdGlvbiBiZWZvcmVDcmVhdGUoKSB7CiAgICBpZiAoIXRoaXMuJHJvdXRlLnBhcmFtcy5uYW1lKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAnL2xvZ2luJywKICAgICAgICBuYW1lOiAnTG9naW4nCiAgICAgIH0pOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgIHRoaXMuc2VsZiA9IHRoaXMuJHJvdXRlLnBhcmFtcy5uYW1lOwogICAgdGhpcy5teUF2YXRhciA9IHRoaXMuJHJvdXRlLnBhcmFtcy5hdmF0YXI7CiAgICB2YXIgZGl2ID0gdGhpcy4kcmVmcy5jb250ZW50LiRlbDsKICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgZGl2LnNjcm9sbFRvcCA9IGRpdi5zY3JvbGxIZWlnaHQ7CiAgICB9KTsKICAgIHRoaXMubXlTb2NrZXQub24oJ21zZycsIGZ1bmN0aW9uIChtc2cpIHsKICAgICAgdmFyIG1zZ05hbWUgPSAnJzsKICAgICAgY29uc29sZS5sb2cobXNnKTsKCiAgICAgIGlmIChtc2cuZ3JvdXApIHsKICAgICAgICBtc2dOYW1lID0gbXNnLnJlY2VpdmVyOwogICAgICB9IGVsc2UgewogICAgICAgIG1zZ05hbWUgPSBtc2cuc2VuZGVyOwogICAgICB9CgogICAgICBpZiAoIV90aGlzMi5tc2dzW21zZ05hbWVdKSB7CiAgICAgICAgX3RoaXMyLiRzZXQoX3RoaXMyLm1zZ3MsIG1zZ05hbWUsIFtdKTsKICAgICAgfQoKICAgICAgX3RoaXMyLm1zZ3NbbXNnTmFtZV0ucHVzaChtc2cpOwoKICAgICAgX3RoaXMyLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgZGl2LnNjcm9sbFRvcCA9IGRpdi5zY3JvbGxIZWlnaHQ7CiAgICAgIH0pOwogICAgfSk7CiAgICB0aGlzLm15U29ja2V0Lm9uKCd1c2VybGlzdCcsIGZ1bmN0aW9uIChsaXN0KSB7CiAgICAgIGNvbnNvbGUubG9nKCdsaXN0JywgbGlzdCk7CiAgICAgIF90aGlzMi5wZXJzb24gPSBsaXN0OwogICAgfSk7CiAgICB0aGlzLm15U29ja2V0LmVtaXQoJ2dldFVzZXJsaXN0Jyk7CiAgfQp9Ow=="},{"version":3,"sources":["Client.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"div\">\n        <Layout class=\"client-wripper\">\n            <Sider class=\"sider1\" style=\"min-width: 50px; max-width: 50px\">\n                <Avatar shape=\"square\" :src=\"avatar('self')\" />\n                <Icon class=\"menu\" type=\"ios-menu\" />\n            </Sider>\n            <Sider class=\"sider2\" style=\"min-width: 180px; max-width: 180px\">\n                <Layout class=\"sider2-wrapper\">\n                    <Header class=\"header\">\n                        <Input class=\"input\" size=\"small\" >\n                            <Icon type=\"ios-search\" slot=\"prefix\" />\n                        </Input>\n                        <Icon class=\"add\" type=\"ios-add\" />\n                    </Header>\n                    <Content class=\"content\">\n                        <Menu class=\"menu\" \n                            :active-name=\"currentName\"\n                            theme=\"dark\" \n                            width=\"176px\"\n                            @on-select=\"selectName\">\n                            <MenuItem class=\"menu-item\" v-for=\"(item, index) in person\" :key=\"index\" :name=\"item.name\">\n                                <Row class=\"row\">\n                                    <Col class=\"avatar\" span=\"7\">\n                                        <Avatar style=\"width: 40px;height: 40px\" shape=\"square\" :src=\"avatar(item.name===self ? 'file' : item.avatar)\"/>\n                                    </Col>\n                                    <Col class=\"infomation\" span=\"12\">\n                                        <div class=\"name\">{{item.name===self ? 'Отправить себе' : item.name}}</div>\n                                        <div class=\"msg\">{{msgs[item.name] ? msgs[item.name][msgs[item.name].length-1].msg : ''}}</div>\n                                    </Col>\n                                    <Col class=\"time\" span=\"\">\n                                        <span>{{msgs[item.name] ? msgs[item.name][msgs[item.name].length-1].time : ''}}</span>\n                                    </Col>\n                                </Row>\n                            </MenuItem>\n                        </Menu>\n                    </Content>\n                </Layout>\n            </Sider>\n            <Layout class=\"content-wrapper\">\n                <Header class=\"header\">\n                    <span class=\"name\">{{currentName}}</span>\n                    <Icon @click=\"exit\" class=\"close\" type=\"ios-close\" />\n                </Header>\n                <Content class=\"content\" ref=\"content\">\n                    <Row type=\"flex\" class=\"row\" v-for=\"(item, index) in msgs[currentName]\" :key=\"index\" :class=\"{isSelf: item.sender===self}\" :justify=\"item.sender===self ? 'end' : 'start'\">\n                        <Col :order=\"item.sender===self ? 2 : 1\" class=\"avatar\" span=\"2\">\n                            <Avatar style=\"width: 30px;height: 30px\" shape=\"square\" :src=\"avatar(item.avatar)\" />\n                        </Col>\n                        <Col :order=\"item.sender===self ? 1 : 2\" class=\"infomation\" span=\"10\">\n                            <div class=\"name\">{{item.sender}}</div>\n                            <div class=\"msg\">\n                                <span class=\"span\">{{item.msg}}</span>\n                            </div>\n                        </Col>\n                    </Row>\n                </Content>\n                <Footer class=\"footer\">\n                    <Icon class=\"emotion\" type=\"ios-happy-outline\" />\n                    <textarea @keydown.enter.prevent=\"send\" v-model=\"sendMsg\" class=\"textarea\" cols=\"52\" rows=\"3\"></textarea>\n                    <div class=\"tip\" v-show=\"visible\">\n                        <div class=\"tip-inner\">Введите сообщение</div>\n                        <div class=\"tip-inner2\"></div>\n                    </div>\n                    <button class=\"button\" @click.prevent.stop=\"send\">Отправить сообщение</button>\n                </Footer>\n            </Layout>\n        </Layout>\n    </div>\n</template>\n\n<script>\nimport io from 'socket.io-client'\nfunction getDate(){\n    let obj = new Date()\n    return (obj.getHours()+'').padStart(2, '0')+':'+ (obj.getMinutes()+'').padStart(2, '0')\n}\nexport default {\n    name: 'Client',\n    props: {\n        \n    },\n    data() {\n        return {\n            currentName: 'Общий чат',\n            self: '',\n            myAvatar: 'avatar1',\n            person: {\n                'Общий чат': {\n                    avatar: 'qunliao',\n                    name: 'Общий чат'\n                },\n            },\n            msgs: {},\n            sendMsg: '',\n            socket: '',\n            visible: false,\n        }\n    },\n    computed: {\n        mySocket(){\n            return this.$store.socket\n        }\n    },\n    methods: {\n        selectName(name){\n            this.currentName = name\n            let div = this.$refs.content.$el\n            this.$nextTick(() => {\n                div.scrollTop = div.scrollHeight\n            })\n        },\n        avatar(avt){\n            if(avt === 'self'){\n                return require(`@/assets/images/${this.myAvatar}.jpeg`)\n            }else{\n                return require(`@/assets/images/${avt}.png`)\n            }\n        },\n        send(){\n            let currentTime = getDate()\n            console.log(currentTime)\n            if(!this.sendMsg){\n                this.visible = true\n                setTimeout(() => {\n                    this.visible = false\n                }, 2000);\n                return \n            }\n            let msg = {\n                sender: this.self,\n                receiver: this.currentName,\n                msg: this.sendMsg,\n                avatar: this.myAvatar,\n                group: false,\n                time: currentTime\n            }\n            if(this.currentName !== 'Общий чат'){\n                let div = this.$refs.content.$el\n                if(!this.msgs[this.currentName]){\n                    this.$set(this.msgs, this.currentName, [])\n                }\n                this.msgs[this.currentName].push(msg)\n                this.$nextTick(() => {\n                    div.scrollTop = div.scrollHeight\n                })\n                if(this.currentName !== this.self){\n                    this.mySocket.emit('chatMessage', msg)\n                }\n                this.sendMsg = ''\n            }else{\n                msg.group = true\n                console.log('shiliaotianshi')\n                this.mySocket.emit('chatMessage', msg)\n                this.sendMsg = ''\n            }\n            \n        },\n        exit(){\n            this.$router.push({path: '/login'})\n            this.$router.go(0)\n        }\n    },\n    beforeCreate(){\n        if(!this.$route.params.name){\n            this.$router.push({\n                path: '/login',\n                name: 'Login',\n            })\n        }\n    },\n    mounted() {\n        this.self = this.$route.params.name\n        this.myAvatar = this.$route.params.avatar\n        let div = this.$refs.content.$el\n        this.$nextTick(() => {\n            div.scrollTop = div.scrollHeight\n        })\n        this.mySocket.on('msg', (msg) => {\n            let msgName = ''\n            console.log(msg)\n            if(msg.group){\n                msgName = msg.receiver\n            }else{\n                msgName = msg.sender\n            }\n            if(!this.msgs[msgName]){\n                this.$set(this.msgs, msgName, [])\n            }\n            this.msgs[msgName].push(msg)\n            this.$nextTick(() => {\n                div.scrollTop = div.scrollHeight\n            })\n        })\n\n        this.mySocket.on('userlist', (list) => {\n            console.log('list',list)\n            this.person = list\n        })\n\n        this.mySocket.emit('getUserlist')\n    }\n}\n</script>\n\n<style lang=\"stylus\">\n    ::-webkit-scrollbar\n        width 4px\n        background-color #eeeae8\n    ::-webkit-scrollbar-track\n        border-radius 10px\n    ::-webkit-scrollbar-thumb \n        background-color #aaa\n        border-radius 50px\n    .div\n        width 98%\n        .client-wripper\n            margin 0px auto\n            width 100vw\n            height 100vh\n            box-shadow 0 0 10px #999\n            color #111\n            .sider1\n                background blue\n                padding 10px 5px\n                position relative\n                .menu\n                    color #666\n                    font-size 20px\n                    position absolute\n                    left 15px\n                    bottom 10px\n            .sider2\n                background #eeeae8\n                .sider2-wrapper\n                    background #eeeae8\n                    .header\n                        width 100%\n                        height 50px\n                        background #eeeae8\n                        border-bottom 0.5px solid #ddd\n                        line-height 60px\n                        padding 0\n                        .input\n                            width 120px\n                            .ivu-input\n                                background #ddd\n                        .add\n                            font-size 18px\n                            padding 3px\n                            margin-left 15px\n                            background #ddd\n                    .content\n                        height 400px\n                        overflow auto\n                        .menu\n                            text-align left\n                            .menu-item\n                                background #eeeae8\n                                padding 10px 0 10px 10px\n                                height 60px\n                                border-radius 10px\n                                color #111\n                                &:hover \n                                    background #dedede\n                                &.ivu-menu-item-active\n                                    background #c9c9c9\n                                .row\n                                    width 100%\n                                    .infomation\n                                        font-size 10px\n                                        .name\n                                            width 100%\n                                            font-size 12px\n                                            overflow hidden\n                                            white-space nowrap\n                                            text-overflow ellipsis\n                                        .msg \n                                            width 100%\n                                            overflow hidden\n                                            white-space nowrap\n                                            text-overflow ellipsis\n                                    .time\n                                        font-size 10px\n                                        padding-top 2px\n                                .avatar\n                                    flex 0 0 20px\n                                .detail\n                                    display inline-block\n                                    vertical-align top\n            .content-wrapper\n                width 500px\n                .header\n                    height 50px\n                    background rgb(245, 245, 245)\n                    border-bottom 0.5px solid #ddd\n                    text-align left\n                    position relative\n                    padding 0 0 0 15px\n                    .close\n                        position absolute\n                        right 0\n                        top 0\n                        font-size 20px\n                        padding 4px 5px\n                        &:hover\n                            background #f45454\n                            color #eee\n                    .name\n                        display inline-block\n                        width 100px\n                        overflow hidden\n                        white-space nowrap\n                        text-overflow ellipsis\n                .content\n                    height 280px\n                    background rgb(245, 245, 245)\n                    overflow auto\n                    padding 10px\n                    .row\n                        text-align left\n                        margin 5px 0 20px 0\n                        &.isSelf\n                            .infomation\n                                .name\n                                    text-align right\n                                .msg\n                                    text-align right\n                                    .span\n                                        text-align left\n                                        background #9eea6a\n                        .avatar\n                        .infomation\n                            margin-left 5px\n                            font-size 14px\n                            .name\n                                margin-top -5px    \n                                font-size 11px\n                            .msg\n                                .span\n                                    display inline-block\n                                    padding 8px\n                                    background #fff\n                                    border 0.5px solid #e1e1e1\n                .footer\n                    height 130px\n                    background #fff\n                    padding 8px 10px\n                    text-align left\n                    position relative\n                    .emotion\n                        font-size 20px\n                        font-weight 550\n                        color #aaa\n                        margin-left -2px\n                        &:hover\n                            color #9eea6a\n                    .textarea\n                        display block\n                        border none\n                        resize none\n                        outline:none\n                    .tip\n                        position absolute\n                        top 60px\n                        right 10px\n                        font-size 12px\n                        width 120px\n                        height 30px\n                        .tip-inner\n                            display block\n                            background #eee\n                            border-radius 3px\n                            padding 5px 10px\n                        .tip-inner2\n                            display block\n                            width 0px\n                            height 0px\n                            border-top 8px solid #eee\n                            border-bottom 8px solid transparent\n                            border-right 8px solid transparent\n                            border-left 8px solid transparent\n                            margin-left 90px\n                            border-radius 2px\n                    .button\n                        font-size 12px\n                        margin-top 7px\n                        padding 2px 15px 1px 15px\n                        position absolute\n                        right 10px\n                        border 1px solid #e1e1e1\n                        border-radius 10px\n                        background #f2f2f2\n                        color #666\n                        outline:none\n                        &:hover\n                            background blue\n                            border 1px solid blue\n                            color #fff\n</style>\n"],"sourceRoot":"src/components"}]}